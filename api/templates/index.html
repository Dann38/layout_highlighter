<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <title>Upload Files</title>
    <script src="{{ url_for('static', filename='js/jquery-3.3.1.min.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</head>
<body>

     <div class="container main">
          <div class="row">
              <div class="col-3 classifier-block vh-100">
                    <div class="row gy-5">
                            <div id="button_open_processing" class="btn btn-primary">Исследовать</div>
                    </div>
                    <div id="progress">
                        <ul class="list-group">
                          <li id="image-id" class="list-group-item d-flex justify-content-between align-items-center">
                            <div id="a-indicator-image" class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">
                                Загрузка
                            </div>
                            <span id="indicator-image" class="badge bg-primary rounded-pill"></span>
                          </li>
                          <li class="list-group-item d-flex justify-content-between align-items-center">
                            <dib id="a-indicator-tesseract"  class="link-secondary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">
                              Обработка Tesseract
                            </dib>
                            <span id="indicator-tesseract" class="badge bg-primary rounded-pill"></span>
                          </li>
                          <li class="list-group-item d-flex justify-content-between align-items-center">
                            <dib id="a-indicator-graph"  class="link-secondary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">
                              Построение связного графа
                            </dib>
                            <span id="indicator-graph" class="badge bg-primary rounded-pill"></span>
                          </li>
                          <li class="list-group-item d-flex justify-content-between align-items-center">
                            <dib id="a-indicator-segment"  class="link-secondary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">
                              Выделение сегментов
                            </dib>
                            <span id="indicator-segment" class="badge bg-primary rounded-pill"></span>
                          </li>
                          <li class="list-group-item d-flex justify-content-between align-items-center">
                            <dib id="a-indicator-segment-classifier"  class="link-secondary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">
                              Классификация сегментов
                            </dib>
                            <span id="indicator-segment-classifier" class="badge bg-primary rounded-pill"></span>
                          </li>
                        </ul>
                    </div>

                    <div id="image-setting" class="row gy-5 setting">
                        <p class="h1">Поле загрузки</p>
                          <form id="form-upload" method="POST" action="">
                              <div class="form-context">
                                   <div class="input-group">
                                        <label class="label-input input-group-text" for="file-input">Выберите файл</label>
                                        <input class="input-file form-control" id="file-input" type="file" name="file" multiple>
                                   </div>
                              </div>
                          </form>
                        <div class="col-6">
                            <div id="button_upload" class="btn btn-primary">Загрузить</div>
                         </div>
                        <div class="col-6">
                            <div id="start_processing" class="btn btn-primary">Выбрать изображение</div>
                         </div>
                    </div>

                    <div id="tesseract-setting" class="row gy-5 setting">
                        <p class="h1">Настройка Tesseract</p>
                          <form id="form-tesseract" method="POST" action="">
                              <div class="form-context">
                                   <div class="input-group">

                                   </div>
                              </div>
                          </form>
                        <div class="col-6">
                            <div id="button_tesseract" class="btn btn-primary">Обработать</div>
                         </div>
                    </div>

                    <div id="graph-setting" class="row gy-5 setting">
                        <p class="h1">Настройка связного графа</p>
                          <form id="form-graph" method="POST" action="">
                              <div class="form-context">
                                   <div class="input-group">
                                    <select id="count-point-input" class="form-select form-select-sm" aria-label=".form-select-sm example">
                                      <option value="1">1 (посередине)</option>
                                      <option value="2">2 (по краям)</option>
                                      <option value="3">3 (одна посередине и две с краю)</option>
                                    </select>
                                   </div>
                              </div>
                          </form>
                        <div class="col-6">
                            <div id="button_graph" class="btn btn-primary">Построить</div>
                         </div>
                    </div>

                    <div id="segment-setting" class="row gy-5 setting">
                        <p class="h1">Настройка сегментации</p>
                            <form id="form-type-segment" method="POST" action="">
                              <div class="form-context">
                                   <div class="input-group">
                                    <select id="type-segment-input" class="form-select form-select-sm" aria-label=".form-select-sm example">
                                      <option value="1">Порог длины</option>
                                      <option value="2">Ручная</option>
                                    </select>
                                   </div>
                              </div>
                            </form>

                            <div id="type-segment-1" class="segment-subsegment">
                                <form id="segment-graph" method="POST" action="" oninput="threshold_segment_range_value.value = threshold_segment_range.valueAsNumber">
                                      <div class="form-context">
                                           <div class="input-group">
                                            <label for="threshold_segment_input" class="form-label">удалить ребра большие:</label>
                                            <input type="range" class="form-range" min="0" max="150" step="1" id="threshold_segment_input" name="threshold_segment_range">
                                            <output name="threshold_segment_range_value" for="threshold_segment_input" id="threshold_segment_input_text">50</output>
                                           </div>
                                      </div>
                                </form>
                        <div>
                          <canvas id="width-edge"></canvas>
                        </div>
                            </div>
                            <div id="type-segment-2" class="segment-subsegment">
                                Красным выделите ребра которые стоит удалить

                                <div class="form-check">
                                  <input class="form-check-input" type="radio" name="typeSegment2method" id="typeSegment2method1" checked>
                                  <label class="form-check-label" for="typeSegment2method1">
                                    Выделение ребер
                                  </label>
                                </div>
                                <div class="form-check">
                                  <input class="form-check-input" type="radio" name="typeSegment2method" id="typeSegment2method2">
                                  <label class="form-check-label" for="typeSegment2method2">
                                    Выделение прямоугольником
                                  </label>
                                </div>

                            </div>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="segment_graph">
                                <label class="form-check-label" for="segment_graph">Отображать графы</label>
                            </div>
                            <div class="col-6">
                                <div id="button_segment" class="btn btn-primary">Выделить</div>
                             </div>

                    </div>

                    <div id="segment-classifier-setting" class="row gy-5 setting">
                        <p class="h1">Настройка связного графа</p>
                          <form id="form-segment-classifier" method="POST" action="">
                              <div class="form-context">
                                   <div class="input-group">
                                    <select id="segment-classifier-type-input" class="form-select form-select-sm" aria-label=".form-select-sm example">
                                      <option value="1">MLP</option>
<!--                                      <option value="2"></option>-->
<!--                                      <option value="3"></option>-->
                                    </select>
                                   </div>
                              </div>
                          </form>
                        <div class="col-6">
                            <div id="button_segment_classifier" class="btn btn-primary">Классифицировать</div>
                         </div>
                    </div>
              </div>

              <div class="col-6 image-block vh-100">
                  <canvas id="result-image" class="col-12">

                  </canvas>

              </div>
              <div style="overflow-y:auto;" class="col-3 history-block vh-100">
                  <div id="history-list" class="row gy-5 setting">
                  <p class="h1">История</p>
                    <ul id="history-group" class="list-group">
                    </ul>
                  </div>
              </div>
          </div>
     </div>
</body>
     <script src="{{ url_for('static', filename='js/process.js') }}"></script>
     <script src="{{ url_for('static', filename='js/canvas.js') }}"></script>


     <script src="{{ url_for('static', filename='js/select_image.js') }}"></script>
     <script src="{{ url_for('static', filename='js/image.js') }}"></script>
     <script src="{{ url_for('static', filename='js/tesseract.js') }}"></script>
     <script src="{{ url_for('static', filename='js/graph.js') }}"></script>
     <script src="{{ url_for('static', filename='js/segment.js') }}"></script>
     <script src="{{ url_for('static', filename='js/segment_classifier.js') }}"></script>

     <script src="{{ url_for('static', filename='js/progress.js') }}"></script>

</html>